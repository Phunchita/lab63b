# การทดลองที่ 3 เรื่อง การเขียนโปรแกรมเอ้าพุทสัญญาณดิจิทัล
## วัตถุประสงค์ 
1. เพื่อประยุกต์ใช้ไมโครคอนโทรเลอร์ทำหน้าที่outputบนอุปกรณ์อื่นๆ
2. เพื่อศึกษาการทำงานของรีเลย์
## อุปกรณ์ที่ใช้ 
1. ไมโครคอนโทรเลอร์ ชนิดESP_01
2. USB to serial port
3. อุปกรณ์ต่อพ่วง USB
4. อุปกรณ์ที่ป้อนข้อมูลเข้าไมโครคอนโทรเลอร์ เช่นคอมพิวเตอร์
5. อะแดปเตอร์ ต่อ พอร์ต0และ1 แสดงผลเป็นLED 0 ขาว 1 เหลือง
6. ตัวรีเลย์
## ศึกษาข้อมูลเบื้องต้น 
* [วีดีโอการทดลองแลป3.1](https://www.youtube.com/watch?v=CCnN1WJsXQY)
* [วีดีโอการทดลองแลป3.2](https://www.youtube.com/watch?v=6JnhaUILGuw)
* [ตัวอย่างโปรแกรมที่3](https://github.com/choompol-boonmee/lab63b/tree/master/examples/03_Output-Port)
## วิธีการทำการทดลอง 
1. ต่อ USB to serial port เข้ากับอแดปเตอร์พอร์ต0และ1 และ ไมโครคอนโทรเลอร์ และคอมพิวเตอร์เข้าด้วยกันดังภาพด้านขวา![image](https://user-images.githubusercontent.com/80879365/112286578-09249780-8cbe-11eb-9a96-8933e3487f1f.png)
2. เปิด command prompt ใช้คำสั่งเปิดตัวอย่าง `cd pattani` ตามด้วย `cd 03_Output-Port`
3. ดูเนื้อหาโปรแกรมได้ด้วยคำสั่ง `src/main.cpp` จะเห็นได้ว่า เลข0 คือค่าlow และเลข1 คือค่าhigh ดังรูป![image](https://user-images.githubusercontent.com/80879365/112289031-805b2b00-8cc0-11eb-88c7-3d6a572e90b2.png)
4. อัพโหลดโปรแกรมตัวอย่างลงไมโครคอนโทรเลอร์ ด้วยคำสั่ง `pio run-t upload`![image](https://user-images.githubusercontent.com/80879365/112286846-56086e00-8cbe-11eb-9af3-09c6f52dbcc0.png)
5. เมื่อโปรแกรมกำลังรันให้กดปุ่มอัปโหลด สีดำที่บอร์ดค้างไว้ แล้วกดปุ่มสีแดงหนึ่งครั้งเพิ่อรีเซต![image](https://user-images.githubusercontent.com/80879365/112289648-0f684300-8cc1-11eb-86d3-bdb2b1018bae.png)
6.รอจนกระทั่งรันโปรแกรมจบแล้ว ใช้คำสั่ง `pio device momitor` เพื่อดูผลผ่านคอมพิวเตอร์![image](https://user-images.githubusercontent.com/80879365/112289913-4cccd080-8cc1-11eb-91e0-1341668c3842.png)
7. ได้ผลการทดลองการรันโปรแกรมเอ้าพุทดังนี้![image](https://user-images.githubusercontent.com/80879365/112291810-0d06e880-8cc3-11eb-9d11-d81c6cb88674.png)
8. กดปุ่มรีเซ็ทสีแดงอีก1ครั้งเพื่อทำการทดลองร่วมกับดีเลย์![image](https://user-images.githubusercontent.com/80879365/112292338-93bbc580-8cc3-11eb-90c9-00a31d00e463.png)
9. ถอดไมโครคอนโทรออกจากอะแดปเตอร์ นำออกมาเสียบเข้ากับรีเลย์ ![image](https://user-images.githubusercontent.com/80879365/112292523-c06fdd00-8cc3-11eb-90f8-6a123afc2f53.png)
10. ต่อขั้วชาร์จเข้ารีเลย์เพื่อจ่ายไฟ![image](https://user-images.githubusercontent.com/80879365/112292964-2f4d3600-8cc4-11eb-9058-e96b9dcee0b3.png)
11. สังเกตผลที่ออกมาในจอคอมพิวเตอร์
## การบันทึกผลการทดลอง 
* ได้ผลการทดลองการรันโปรแกรมเอ้าพุทดังนี้![image](https://user-images.githubusercontent.com/80879365/112291810-0d06e880-8cc3-11eb-9d11-d81c6cb88674.png)
* ได้ผลการทดลองด้วยดีเลย์ดังนี้![image](https://user-images.githubusercontent.com/80879365/112292964-2f4d3600-8cc4-11eb-9058-e96b9dcee0b3.png)
## อภิปรายผลการทดลอง 
* จากการทดลองการรันโปรแกรมเอ้าพุทได้ผลออกมาว่าทุกๆครึ่งวินาทีจะส่งเอ้าพุทเป็น on offไปเรื่อยๆ ส่วนที่ตัวLEDจะเกิดการกระพริบโดยไฟติดที่ on หลอดสีขาว และoff หลอดไฟจะดับ
* จากการทดลองด้วยดีเลย์ เมื่อจ่ายไฟให้รีเลย์แล้ว รีเลย์จะทำหน้าที่เป็นสวิตซ์ตาม on offที่ไมโครคอนโทรเลอร์สั่งมา
## คำถามหลังการทดลอง
* รีเลย์จะทำหน้าที่on หลอดไฟได้เมื่อคอนโทรเลอร์สั่งค่าอะไรมา
* ตอบ เมื่อได้รับคำสั่ง 0 จากไมโครคอนโทรเลอร์
